<xaiArtifact artifact_id="be32da87-73c5-4db4-9e44-07f3e332d401" artifact_version_id="1202fa01-f22a-4749-b415-e6cf4ad3ec61" title="index.html" contentType="text/html">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ami's Mind</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <h1 class="app-heading">Ami's Mind</h1>
    <!-- Input Trigger Area -->
<div class="card trigger-card">
    <div id="inputTrigger">
        <span>Into the Mind...</span>
        <div class="icon-group">
            <svg id="notesIconTrigger" class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" title="New Note">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            <svg id="pictureIconTrigger" class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" title="New Note with Picture">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
        </div>
    </div>

    <!-- Full Content Form -->
    <div id="contentFormWrapper" class="card -mt-5 border-t pt-5 rounded-t-none shadow-none border-gray-200">
        <form id="contentForm">
            <input type="hidden" id="editItemId" value="">
            <input type="hidden" id="entryMode" value="">
            <div id="picturesFormField" class="form-field hidden">
                <label id="picturesLabel" for="pictures">Pictures</label>
                <input type="file" id="pictures" name="pictures" accept="image/*" multiple class="file-input-style">
                <p id="fileHelper" class="helper-text">Upload one or more images.</p>
                <div id="existingImages" class="mt-2 item-img-container"></div>
                <p id="fileError" class="error"></p>
            </div>
            <div class="form-field">
                <label id="notesLabel" for="notes">Notes:</label>
                <div class="input-group">
                    <textarea id="notes" name="notes" rows="5"></textarea>
                    <button type="button" id="notesMicBtn" class="mic-btn" title="Record Notes">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                        </svg>
                    </button>
                </div>
                <p id="notesHelper" class="helper-text">Add your thoughts or details.</p>
                <p id="notesError" class="error"></p>
            </div>
            <div id="spinner" class="spinner"></div>
            <p id="statusMessage" class="text-center text-sm my-3"></p>
            <div class="flex justify-end gap-3 mt-4">
                <button type="button" id="cancelButton" class="btn btn-secondary">Cancel</button>
                <button type="submit" id="submitBtn" class="btn">Save</button>
            </div>
        </form>
    </div>
</div>

<!-- Saved Items Area -->
<div class="card">
    <h2 class="text-xl font-bold text-center mb-5 text-gray-700">Saved Items</h2>
    <input type="text" id="searchBar" class="w-full p-2 border border-gray-300 rounded-md mb-5 shadow-sm" placeholder="Search notes...">
    <div id="itemsList">
        <p id="loadingMessage" class="text-center text-gray-500 mt-4">Loading items...</p>
    </div>
</div>

<!-- Item View Modal -->
<div id="viewModalOverlay" class="modal-overlay">
    <div id="viewModalContent" class="modal-content">
        <button id="viewModalCloseBtn" class="modal-close-btn" title="Close">&times;</button>
        <div id="modalImageContainer" class="modal-img-container"></div>
        <div id="modalNotesContent" class="modal-notes"></div>
    </div>
</div>
<!-- Cloudflare Challenge Script -->

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
<!-- Custom JavaScript -->
<script src="script.js"></script>
</body>
</html>
</xaiArtifact>
